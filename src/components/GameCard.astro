---
import type { GameMeta } from '../lib/types';

interface Props {
  game: GameMeta;
}

const { game } = Astro.props;
---

<a
  href={`/games/${game.slug}`}
  class="card-glow group block rounded-xl border border-white/5 bg-[var(--color-void-light)] p-6 transition-all duration-300 hover:border-white/10 hover:bg-[var(--color-void-lighter)]"
  style={`--game-accent: ${game.accent};`}
  transition:name={`game-card-${game.slug}`}
>
  <div class="flex items-start justify-between mb-4">
    <span
      class="font-[family-name:var(--font-mono)] text-xs tracking-widest"
      style={`color: ${game.accent};`}
    >
      {game.number}
    </span>
    <span class="text-xs text-[var(--color-dim)] font-[family-name:var(--font-mono)]">
      {game.industry}
    </span>
  </div>

  <h3 class="font-[family-name:var(--font-display)] text-xl font-bold mb-2 text-[var(--color-bone)] group-hover:text-white transition-colors">
    {game.title}
  </h3>

  <p class="text-sm font-medium mb-3" style={`color: ${game.accent};`}>
    {game.comparable}
  </p>

  <p class="text-sm text-[var(--color-muted)] leading-relaxed line-clamp-3 group-hover:text-[var(--color-bone)]/70 transition-colors">
    {game.elevator}
  </p>

  <div class="mt-4 flex flex-wrap gap-2">
    {game.genre.slice(0, 3).map(tag => (
      <span class="text-[10px] px-2 py-0.5 rounded-full border border-white/10 text-[var(--color-dim)] font-[family-name:var(--font-mono)] uppercase tracking-wider">
        {tag}
      </span>
    ))}
  </div>
</a>
